# MAIN CONCEPTS

## # Hello World

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style type="text/css">
        #app {
            color: #61dafb;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <!-- 
    <script crossorigin src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script> 
    <script crossorigin src="https://unpkg.com/babel-standalone@7.0.0-beta.3/babel.min.js"></script>    
    -->
    <script src="https://cdn.jsdelivr.net/npm/react@16.12.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.8.4/babel.min.js"></script>
    <script type="text/babel">
        // 1. è™šæ‹Ÿ DOM å…ƒç´ å¯¹è±¡ï¼Œä¸æ˜¯å­—ç¬¦ä¸²ï¼›
        // é‡è¦ï¼šæ²¡æœ‰æŠ¥é”™çš„åŸå› åœ¨äºè¯¥è„šæœ¬ type ä¸º â€œtext/babelâ€ï¼Œ
        // "text/babel" å£°æ˜ï¼Œå‘ŠçŸ¥ babel.js è§£æé‡Œé¢çš„ä»£ç ï¼Œå‰æä½¿éœ€è¦å¼•å…¥ babel.js æ–‡ä»¶
        const vDom = <h1>Hello, world!</h1>;
        // 2. å°† è™šæ‹Ÿ DOM å…ƒç´ å¯¹è±¡æ¸²æŸ“åˆ°é¡µé¢çœŸå® DOM å®¹å™¨ä¸­
        ReactDOM.render(vDom, document.querySelector('#app'))
    </script>
</body>
</html>
```


## # Introducing JSX

```js
// The tag syntax is neither a string nor html
const element = <h1>Hello, world!</h1>
```

> JSX, that is a syntax extension to JavaScript. 

JSX å¯ä»¥å¾ˆå¥½çš„æè¿° UI åº”è¯¥å‘ˆç°å‡ºå®ƒåº”æœ‰äº¤äº’çš„æœ¬è´¨å½¢å¼ã€‚

### # Why JSX

React è®¤ä¸ºæ¸²æŸ“é€»è¾‘æœ¬è´¨ä¸Šä¸å…¶ä»– UI é€»è¾‘å†…åœ¨è€¦åˆï¼Œæ¯”å¦‚ï¼Œåœ¨ UI ä¸­éœ€è¦ç»‘å®šå¤„ç†äº‹ä»¶ã€åœ¨æŸäº›æ—¶åˆ»çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶éœ€è¦é€šçŸ¥åˆ° UIï¼Œä»¥åŠéœ€è¦åœ¨ UI ä¸­å±•ç¤ºå‡†å¤‡å¥½çš„æ•°æ®ã€‚

### # Embedding Expressions in JSX

```javascript
const name = 'Nicholas'
const element = <h1>Hello, {name}</h1>

ReactDOM.render(element, document.querySelector('#app'))
```

åœ¨ JSX è¯­æ³•ä¸­ï¼Œä½ å¯ä»¥åœ¨å¤§æ‹¬å·å†…æ”¾ç½®ä»»ä½•æœ‰æ•ˆçš„ JavaScript è¡¨è¾¾å¼ã€‚

```javascript
// åœ¨ JSX ä¸­åµŒå…¥è¡¨è¾¾å¼
function formatName(user) {
    return user.firstName + ' ' + user.lastName
}

const user = {
    firstName: 'Nicholas',
    lastName: 'Eee'
}

const vDomEle = (
    <h1>
        Hello, {formatName(user)}
    </h1>
)

ReactDOM.render(vDomEle, document.querySelector('#app'))
```

### # JSX is an Expression Too

> After compilation, JSX expressions become regular JavaScript function calls and evaluate to JavaScript objects.

```javascript
// å¯ä»¥åœ¨ if è¯­å¥å’Œ for è¯­å¥å¾ªç¯çš„ä»£ç å—ä¸­ä½¿ç”¨ JSX
function getGreeting(user) {
    if (user) {
        return <h1>Hello, {formatName(user)}!</h1>
    } else {
        return <h1>Hello, Nicholas.</h1>
    }
}
```

### # Specifying Attributes with JSX

```javascript
// You can use quotes to specify string literals as attributes
const element = <div tabIndex="0"></div>
```

```javascript
// You may also use curly braces to embed a JavaScript expression in an attribute
const element = <img src={user.avatarUrl} />
```

> Donâ€™t put quotes around curly braces when embedding a JavaScript expression in an attribute. You should either use quotes (for string values) or curly braces (for expressions), but not both in the same attribute.

**é‡è¦** ç”±äº JSX çš„è¯­æ³•æ›´åŠ æ¥è¿‘ JavaScript è€Œä¸æ˜¯ HTMLï¼Œæ‰€ä»¥ ReactDOM ä½¿ç”¨ `camelCase`ï¼ˆå°é©¼å³°å‘½åï¼‰æ¥å®šä¹‰å±æ€§çš„åç§°ï¼Œè€Œä¸ä½¿ç”¨ HTML å±æ€§åç§°çš„å‘½åçº¦å®šã€‚

æ¯”å¦‚ï¼š`class` -> `className`ã€`tabindex` -> `tabIndex`

### # Specifying Children with JSX

> If a tag is empty, you may close it immediately with `/>`ï¼Œlike XML:

```javascript
const element = <img src={user.avatarUrl}" />
```

> JSX tags may contain chilren:

```javascript
<div>
    <h1>Hello, {formatName(user)}</h1>
    <img src={user.avatarUrl} alt="avatar" />
</div>
```

> React ä¸­çš„ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯ä¸€ä¸ªç»„ä»¶è¿”å›å¤šä¸ªå…ƒç´ ã€‚Fragments å…è®¸ä½ å°†å­åˆ—è¡¨åˆ†ç»„ï¼Œè€Œæ— éœ€å‘ DOM æ·»åŠ é¢å¤–èŠ‚ç‚¹ã€‚

> `<></>` æ˜¯ `<React.Fragment></React.Fragment>` çš„ çŸ­è¯­æ³•ï¼›ä½†ä¸æ”¯æŒ key æˆ– å±æ€§

```javascript
<Fragment>
    <h1>Hello, {formatName(user)}</h1>
    <img src={user.avatarUrl} alt="avatar" />
</Fragment>

// ç­‰æ•ˆäº

<>
    <h1>Hello, {formatName(user)}</h1>
    <img src={user.avatarUrl} alt="avatar" />
</>
```

### # JSX Prevents Injection Attacks

å¯ä»¥å®‰å…¨åœ°åœ¨ JSX å½“ä¸­æ’å…¥ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼š

```javascript
const title = response.potentiallyMaliciousInput;
// ç›´æ¥ä½¿ç”¨æ˜¯å®‰å…¨çš„ï¼Œæ”¾å¿ƒå¤§èƒ†ä½¿ç”¨å§ ~
const element = <h1>{title}</h1>
```

ReactDOM åœ¨æ¸²æŸ“æ‰€æœ‰è¾“å…¥å†…å®¹ä¹‹å‰ï¼Œé»˜è®¤ä¼šè¿›è¡Œè½¬ä¹‰ã€‚å®ƒå¯ä»¥ç¡®ä¿åœ¨ä½ çš„åº”ç”¨ä¸­ï¼Œæ°¸è¿œä¸ä¼šæ³¨å…¥é‚£äº›å¹¶éè‡ªå·±æ˜ç¡®ç¼–å†™çš„å†…å®¹ã€‚æ‰€æœ‰çš„å†…å®¹åœ¨æ¸²æŸ“ä¹‹å‰éƒ½è¢«è½¬ä¹‰æˆäº†å­—ç¬¦ä¸²ï¼›å¯æœ‰æ•ˆé˜²æ­¢ `XSS (cross-site-scripting è·¨ç«™è„šæœ¬æ”»å‡»)` æ”»å‡»

### # JSX Represents Objects 

> Babel compiles JSX down to `React.createElement()` calls.

Babel ä¼šæŠŠ JSX è½¬è¯‘æˆä¸€ä¸ªåä¸º `React.createElement()` å‡½æ•°è°ƒç”¨ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼š

```javascript
const element = (
    <h1 className="greeting">
        Hello, world
    </h1>
)

// ç­‰æ•ˆäº

const element = React.createElement('h1', {className: 'greeting'}, 'Hello, world')

// å®é™…ä¸Šä¼šåˆ›å»ºç±»ä¼¼è¿™æ ·çš„ä¸€ä¸ªå¯¹è±¡ï¼š
// æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯ç®€å•åœ°æè¿°è¿™ä¸ª JSX å¯¹è±¡çš„ç»“æ„
const element = {
    type: 'h1',
    props: {
        className: 'greeting',
        children: 'Hello, world'
    }
}
```


## # Rendering Elements

> Elements are the smallest building blocks of React apps.

å…ƒç´ æ˜¯ React åº”ç”¨ç¨‹åºçš„æœ€å°æ„å»ºå—ã€‚

### # Rendering an Element into the DOM

```html
<!-- "root" DOM nodeï¼Œeverything inside it will be managed by React DOM -->
<div id="root"></div>
```

é€šå¸¸ï¼Œä½¿ç”¨ React æ„å»ºçš„åº”ç”¨åªæœ‰å•ä¸€çš„æ ¹ DOM èŠ‚ç‚¹ã€‚å¦‚æœæƒ³è¦å°†ä¸€ä¸ª React å…ƒç´ æ¸²æŸ“åˆ°æ ¹ DOM èŠ‚ç‚¹ä¸­ï¼Œåªéœ€è¦æŠŠå®ƒä»¬ä¸€èµ·ä¼ å…¥ `ReactDOM.render(element, container[, callback])`ã€‚

å°±åƒæœ€åˆçš„ `Hello, world` ä¾‹å­ä¸€æ ·ï¼š

```javascript
// vDom å°±æ˜¯ â€œReact å…ƒç´ â€
const vDom = <h1>Hello, world!</h1>;
ReactDOM.render(vDom, document.querySelector('#app'))
```

### # Updating the Rendered Element

> React elements are `immutable`. Once you create an element, you can't change its children or attributes.

é‚£ä¹ˆï¼Œåœ¨å½“å‰ï¼ˆå‰é¢å·²äº†è§£åˆ°çš„çŸ¥è¯†ï¼‰æˆ‘ä»¬è¯¥å¦‚ä½•æ›´æ–°å·²æ¸²æŸ“çš„å…ƒç´ å‘¢ï¼Ÿ

å”¯ä¸€çš„æ–¹å¼å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ React å…ƒç´ ï¼Œå¹¶å°†å…¶ä¼ å…¥åˆ° `ReactDOM.render(element, container[, callback])` ï¼Œé‡æ–°æ¸²æŸ“åˆ°æ ¹èŠ‚ç‚¹ï¼š

```javascript
const tick = () => {
    const element = (
        <>
            <h1 className="name-purple">Hello, Nicholas</h1>
            <h2>TIME: { new Date().toLocaleTimeString() }</h2>
        </>
    )

    ReactDOM.render(element, document.querySelector('#app'))
}

setInterval(tick, 1000)
```

> **æ³¨æ„ï¼š** åœ¨å®é™…çš„ React åº”ç”¨ä¸­åªä¼šè°ƒç”¨ä¸€æ¬¡ `ReactDOM.render(element, container[, callback])`; 

### # React Only Updates What's Necessary

> React DOM compares the element and its children to the previous one, and only applies the DOM updates necessary to bring the DOM to the desired state.

![](./rendering-elements.gif)

ä»ä¸Šå›¾å¯ä»¥æ¸…æ™°çœ‹åˆ°ï¼Œå°½ç®¡æ¯ä¸€ç§’æˆ‘ä»¬éƒ½ä¼šæ–°åˆ›å»ºä¸€ä¸ªæè¿°æ•´ä¸ª UI æ ‘çš„å…ƒç´ ï¼ŒReact DOM åªä¼šæ›´æ–°å®é™…æ”¹å˜äº†çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ä¾‹å­ä¸­çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚


## # Components and Props

> Components let you split the UI into independent, reusable pieces and think about each piece in isolation.

ç»„ä»¶å…è®¸ä½ å°† UI æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ã€å¯å¤ç”¨çš„ä»£ç ç‰‡æ®µï¼Œå¹¶å•ç‹¬è€ƒè™‘æ¯ä¸ªä»£ç ç‰‡æ®µã€‚

Conceptually, components are like JavaScript functions. They accept arbitrary(ä»»æ„åœ°) inputs (called "props") and return React elements describing what should appear on the screen.

### # æ¨¡å—ä¸ç»„ä»¶ å’Œ æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–

- **æ¨¡å—**

æ¨¡å—å°±æ˜¯å‘å¤–æä¾›ç‰¹å®šåŠŸèƒ½çš„ js ç¨‹åºï¼Œä¸€èˆ¬å°±æ˜¯ä¸€ä¸ª js æ–‡ä»¶ï¼›ç›®çš„æ˜¯ä¸ºäº†å¤ç”¨ js ï¼Œç®€åŒ– js çš„ç¼–å†™ï¼Œæé«˜ js è¿è¡Œæ•ˆç‡ã€‚

- **ç»„ä»¶**

ç”¨æ¥å®ç°ç‰¹å®šï¼ˆå±€éƒ¨ï¼‰åŠŸèƒ½æ•ˆæœçš„ä»£ç é›†åˆï¼ˆhtml/css/jsï¼‰ï¼Œåœ¨è¾ƒé«˜å±‚é¢ä¸Šæ¥çœ‹ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„åŒ…å«ç‰¹å®šåŠ¨èƒ½çš„å…ƒç´ ã€‚

### # Function and Class Components

```javascript
// 1. Function Components
// æ¥æ”¶å”¯ä¸€å¸¦æœ‰æ•°æ®çš„ "props"
const FunComponent = (props) => {
    console.log(props)
    return (
        <> 
            <h1>Hello, { props.name }</h1>
            <h3>Function Components (å‡½æ•°ç»„ä»¶ â€”â€” ç®€å•ç»„ä»¶)</h3>
        </>
    )
}

// æ¸²æŸ“ç»„ä»¶
ReactDOM.render(<FunComponent name="Nicholas" />, document.querySelector('#rootByFunComponents'))

// 2. Class Components
class ClassComponent extends React.Component {
    render() {
        // æ‰“å°å®ä¾‹å¯¹è±¡
        console.log(this)
        return (
            <> 
                <h1>Hello, { this.props.name }</h1>
                <h3>Class Components (ES6ç±»ç»„ä»¶ â€”â€” å¤æ‚ç»„ä»¶)</h3>
            </>
        ) 
    }
}

// æ¸²æŸ“ç»„ä»¶
ReactDOM.render(<ClassComponent name="Nicholas1" />, document.querySelector('#rootByClassComponents'))
```

> **æ³¨æ„ï¼šç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚**
>
> React ä¼šå°†ä»¥å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶è§†ä¸ºåŸç”Ÿ DOM æ ‡ç­¾ã€‚

### # Composing Components

å®šä¹‰ç»„ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥å¼•ç”¨å…¶ä»–ç»„ä»¶ã€‚åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒä¸€ç»„ä»¶æŠ½è±¡å‡ºä»»æ„å±‚æ¬¡çš„ç»†èŠ‚ã€‚æŒ‰é’®ã€è¡¨å•ã€å¯¹è¯æ¡†ã€ç”šè‡³æ•´ä¸ªå±å¹•çš„å†…å®¹ï¼šåœ¨ React åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™äº›é€šå¸¸éƒ½ä¼šä»¥ç»„ä»¶çš„å½¢å¼è¡¨ç¤ºã€‚

```javascript
// ç»„åˆç»„ä»¶
const HelloComponent = (props) => {
    return <h1>Hello, { props.name }</h1>
}

const App = () => {
    return (
        <> 
            <HelloComponent name="Nicholas" />
            <HelloComponent name="Sara" />
            <HelloComponent name="Ethan" />
        </>
    )
}

ReactDOM.render(<App />, document.querySelector('#rootByFunComponents'))
```

### # Props

`props` æ˜¯ç”¨äºæ•´ä¸ªç»„ä»¶æ ‘ä¸­ `ä¼ é€’æ•°æ®` å’Œ `é…ç½®`ï¼›åœ¨å½“å‰ç»„ä»¶è®¿é—® `props`ï¼Œä½¿ç”¨ `this.props`ã€‚

ç»„ä»¶æ— è®ºä½¿ç”¨å‡½æ•°å£°æ˜è¿˜æ˜¯é€šè¿‡ class å£°æ˜ï¼Œéƒ½å†³ä¸èƒ½ä¿®æ”¹è‡ªèº«çš„ `props`ã€‚

> æ‰€æœ‰ React ç»„ä»¶éƒ½å¿…é¡»åƒçº¯å‡½æ•°ä¸€æ ·ä¿æŠ¤å®ƒä»¬çš„ props ä¸è¢«æ›´æ”¹ã€‚

#### # éœ€æ±‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯

è¯´æ˜ï¼š1.å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºâ€œç”·â€œï¼›2.å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºâ€œ18â€

```javascript
/**
* éœ€æ±‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯
* è¯´æ˜ï¼š1.å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºâ€œç”·â€œï¼›2.å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºâ€œ18â€
*/
const Person = props => {
    console.log(props);
    return (
        <>
            <div>Name: { props.name }</div>
            <div>Age: { props.age }</div>
            <div>Sex: { props.sex }</div>
        </>
    );
};

// class Person extends React.Component {
//     render () {
//         console.log(this)
//         return (
//             <>
//                 <div>Name: { this.props.name }</div>
//                 <div>Age: { this.props.age }</div>
//                 <div>Sex: { this.props.sex }</div>
//             </>
//         )
//     }
// }

// defaultProps 
// å¯ä»¥ä¸ºç»„ä»¶æ·»åŠ é»˜è®¤ propsã€‚è¿™ä¸€èˆ¬ç”¨äº props æœªèµ‹å€¼ï¼Œä½†åˆä¸èƒ½ä¸º null çš„æƒ…å†µ
Person.defaultProps = {
    age: 18,
    sex: 'Male'
}

const UserName = {
    name: "Nicholas",
    age: 20
};

let element = <Person name={ UserName.name } age={ UserName.age } sex={ UserName.sex } />;

const container = document.querySelector("#rootByFunComponents");

// ç»„ä»¶å±æ€§è®¾ç½®çš„ä¸¤ç§æ–¹å¼ï¼ˆæš‚æ—¶å·²çŸ¥çš„ ğŸ˜‚ï¼‰

// 1. æ˜¾ç¤ºæŒ‡å®šå„ä¸ªå±æ€§ï¼šï¼ˆJavaScriptè¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ï¼ŒPropsé»˜è®¤å€¼ä¸º â€Trueâ€œï¼‰
// ReactDOM.render(element, container);

// 2. ä½¿ç”¨ ES6 çš„æ‰©å±•ç¬¦ Spread Attributes
ReactDOM.render(<Person { ...UserName } />, container);
```

## # State and Lifecycle

åœ¨å…ƒç´ æ¸²æŸ“ç« èŠ‚ï¼Œæˆ‘ä»¬äº†è§£äº†ä¸€ç§æ›´æ–° UI ç•Œé¢çš„æ–¹æ³•ï¼šé€šè¿‡è°ƒç”¨ `ReactDOM.render()` æ¥ä¿®æ”¹éœ€è¦æ¸²æŸ“çš„å…ƒç´ 

```javascript
const tick = () => {
    const element = (
        <>
            <h1 className="name-purple">Hello, Nicholas</h1>
            <h2>TIME: { new Date().toLocaleTimeString() }</h2>
        </>
    )

    ReactDOM.render(element, document.querySelector('#app'))
}

setInterval(tick, 1000)
```

æœ¬ç« èŠ‚å°†åŸºäºè¿™ä¸ªä¾‹å­ç»§ç»­å­¦ä¹ å¦å¤–çš„å®ç° UI ç•Œé¢æ›´æ–°çš„æ–¹æ³•ã€‚

### # éœ€æ±‚ï¼šå°è£…ä¸€ä¸ªå¯å¤ç”¨çš„ `Clock` ç»„ä»¶

```javascript
/**
* éœ€æ±‚ï¼šå°è£…çœŸæ­£å¯å¤ç”¨çš„ Clock ç»„ä»¶
*/
const Clock = (props) => {
    return (
        <>
            <h1>Hello, { props.name }</h1>
            <h2>{ props.date.toLocaleTimeString() }</h2>
        </>
    )
}

const container = document.querySelector('#app')

const tick = () => {
    ReactDOM.render(<Clock date={ new Date() } />, container)
}

setInterval(tick, 1000)
```

ä½†æ˜¯ï¼Œä¸Šé¢çš„å®ç°ç¼ºå°‘äº†ä¸€ä¸ªå…³é”®çš„æŠ€æœ¯ç»†èŠ‚ï¼š`Clock` ç»„ä»¶éœ€è¦è®¾ç½®ä¸€ä¸ªè‡ªå·±çš„è®¡æ—¶å™¨å¹¶æ¯ç§’æ›´æ–°ä¸€æ¬¡ã€‚

ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›åªç¼–å†™ä¸€æ¬¡æ¸²æŸ“ä»£ç ï¼Œä¾¿å¯è®© `Clock` ç»„ä»¶å®ç°è‡ªæˆ‘æ›´æ–°ã€‚

å¦‚æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šState ã€‚State ä¸ Props ç±»ä¼¼ï¼Œä½†æ˜¯ state æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”å®Œå…¨å—æ§äºå½“å‰ç»„ä»¶ã€‚

> State æœ¬è´¨æ§åˆ¶çš„æ˜¯ç»„ä»¶çŠ¶æ€ï¼Œè€Œå‡½æ•°ç»„ä»¶æ˜¯æ— çŠ¶æ€ç»„ä»¶ï¼Œæ‰€ä»¥å½“ä½¿ç”¨ state æ—¶ï¼Œå¿…é¡»æ˜¯åœ¨ Class ç»„ä»¶é‡Œé¢ä½¿ç”¨

```javascript
/**
* éœ€æ±‚ï¼šå°è£…çœŸæ­£å¯å¤ç”¨çš„ Clock ç»„ä»¶
* è¯´æ˜ï¼šå°†å‡½æ•°ç»„ä»¶è½¬æ¢æˆ class ç»„ä»¶
*/
// 1. åˆ›å»ºä¸€ä¸ªåŒåçš„ ES6 class, å¹¶ç»§æ‰¿äº `React.Component`
// 2. æ·»åŠ ä¸€ä¸ªç©ºçš„ `render()` æ–¹æ³•
// 3. å°†å‡½æ•°ä½“ç§»åˆ° `render()` æ–¹æ³•ä¹‹ä¸­
// 4. åœ¨ `render()` æ–¹æ³•ä¸­ä½¿ç”¨ `this.props` æ›¿æ¢ `props`
// 5. ç§»é™¤ `setInterval()` æ–¹æ³•ï¼Œåªä¿ç•™ `ReactDOM.render()`
class Clock extends React.Component {
    render () {
        return (
            <>
                <h1>Hello, { this.props.name }</h1>
                <h2>{ this.props.date.toLocaleTimeString() }</h2>
            </>
        )
    }
}

const container = document.querySelector('#app')

ReactDOM.render(<Clock date={ new Date() } />, container)
```

ç°åœ¨ `Clock` ç»„ä»¶è¢«å®šä¹‰ä¸º classï¼Œè€Œä¸æ˜¯å‡½æ•°ã€‚

æ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶ `render` æ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ï¼Œä½†åªè¦åœ¨ç›¸åŒçš„ DOM èŠ‚ç‚¹ä¸­æ¸²æŸ“ `<Clock />`ï¼Œå°±ä»…æœ‰ä¸€ä¸ª `Clock` ç»„ä»¶çš„ class å®ä¾‹è¢«åˆ›å»ºä½¿ç”¨ã€‚

```javascript
/**
* éœ€æ±‚ï¼šå°è£…çœŸæ­£å¯å¤ç”¨çš„ Clock ç»„ä»¶
* è¯´æ˜ï¼šå‘ class ç»„ä»¶ä¸­æ·»åŠ å±€éƒ¨çš„ state
*/
class Clock extends React.Component {
    // Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ props å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
    constructor (props) {
        super(props)
        // this.state èµ‹åˆå€¼
        this.state = { date: new Date() }
    }

    render () {
        return (
            <>
                <h1>Hello, { this.props.name }</h1>
                <h2>{ this.state.date.toLocaleTimeString() }</h2>
            </>
        )
    }
}

const container = document.querySelector('#app')

ReactDOM.render(<Clock name="Nicholas" />, container)
```

> Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ `props` å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°

```javascript
/**
* éœ€æ±‚ï¼šå°è£…çœŸæ­£å¯å¤ç”¨çš„ Clock ç»„ä»¶
* è¯´æ˜ï¼šè®¾ç½®è‡ªå·±çš„è®¡æ—¶å™¨å¹¶æ¯ç§’æ›´æ–°ä¸€æ¬¡ â€”â€” é€šè¿‡ç”Ÿå‘½å‘¨æœŸå‡½æ•°å®ç° state è‡ªåŠ¨æ›´æ–°
*/
class Clock extends React.Component {
    // Class ç»„ä»¶åº”è¯¥å§‹ç»ˆä½¿ç”¨ props å‚æ•°æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
    constructor(props) {
        super(props)
        // this.state èµ‹åˆå€¼
        this.state = { date: new Date() }
    }

    // `componentDidMount()` æ–¹æ³•ä¼šåœ¨ç»„ä»¶å·²ç»è¢«æ¸²æŸ“åˆ° DOM ä¸­åè¿è¡Œ
    componentDidMount() {
        this.timerId = setInterval(() => this.tick(), 1000)
    }

    componentWillUnmount() {
        clearInterval(this.timerId)
    }

    tick() {
        this.setState({
            date: new Date()
        })
    }

    render() {
        return (
            <>
                <h1>Hello, { this.props.name }</h1>
                <h2>{ this.state.date.toLocaleTimeString() }</h2>
            </>
        )
    }
}

const container = document.querySelector('#app')

ReactDOM.render(<Clock name="Nicholas" />, container)
```

1. å½“ `<Clock />` ä¼ ç»™ `ReactDOM.render()` çš„æ—¶å€™ï¼ŒReact ä¼šè°ƒç”¨ `Clock` ç»„ä»¶çš„æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ– `this.state`;

2. ä¹‹å React ä¼šè°ƒç”¨ç»„ä»¶çš„ `render()` æ–¹æ³•ï¼Œå°†ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šæ˜¾ç¤ºï¼›

3. å½“ `Clock` ç»„ä»¶æ’å…¥åˆ° DOM ä¸­åï¼ŒReact å°±ä¼šè°ƒç”¨ `ComponentDidMount()` ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼›

4. `ComponentDidMount()` æ–¹æ³•ä¸­å®ç°äº†ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œæµè§ˆå™¨æ¯ç§’éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ `tick()` æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œ`Clock` ç»„ä»¶ä¼šé€šè¿‡è°ƒç”¨ `setState()` æ¥æ›´æ–°çŠ¶æ€ï¼Œå½“çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼ŒReact ä¾¿ä¼šé‡æ–°è°ƒç”¨ `render()` æ–¹æ³•æ¥ç¡®å®šé¡µé¢ä¸Šè¯¥æ˜¾ç¤ºä»€ä¹ˆã€‚`this.state.date` å‘ç”Ÿæ”¹å˜ï¼ŒReact ä¼šç›¸åº”çš„æ›´æ–° DOMï¼›

5. ä¸€æ—¦ `Clock` ç»„ä»¶ä» DOM ä¸­è¢«ç§»é™¤ï¼ŒReact å°±ä¼šè°ƒç”¨ `componentWillUnmount()` ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼›

### # æ­£ç¡®åœ°ä½¿ç”¨ `State`

å…³äº `setState()` éœ€è¦æ³¨æ„ï¼š

- ä¸è¦ç›´æ¥ä¿®æ”¹ `State` ï¼›æ„é€ å‡½æ•°æ˜¯å”¯ä¸€å¯ä»¥ç»™ `this.state` èµ‹å€¼çš„åœ°æ–¹

```javascript
// Wrong
this.state.comment = 'Hello'

// Correct
this.setState({ comment: 'Hello' })
```

- `State` çš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„

    å‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼ŒReact å¯èƒ½ä¼šæŠŠå¤šä¸ª `setState()` è°ƒç”¨åˆå¹¶æˆä¸€ä¸ªè°ƒç”¨ï¼›

    ç”±äº `this.props` å’Œ `this.state` å¯èƒ½ä¼šå¼‚æ­¥æ›´æ–°ï¼Œæ‰€ä»¥ä¸è¦ä¾èµ–ä»–ä»¬çš„å€¼æ¥æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼›

    è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è®© `setState()` æ¥æ”¶ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ `state`, ç¬¬äºŒä¸ªå‚æ•°æ˜¯ `props`ï¼Œä¸”è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼›

```javascript
// Wrong
this.setState({
    counter: this.state.counter + this.props.increment
})

// Correct
this.setState(function(state, props) {
    return {
        counter: state.counter + props.increment
    }
})

// æˆ–è€…ä½¿ç”¨ç®­å¤´å‡½æ•°
this.setState((state, props) => ({ 
    counter: state.counter + props.increment 
}));
```

- `State` çš„æ›´æ–°ä¼šè¢«åˆå¹¶

    å½“ä½ è°ƒç”¨ `setState()` çš„æ—¶å€™ï¼ŒReact ä¼šæŠŠä½ æä¾›çš„å¯¹è±¡åˆå¹¶ï¼ˆæµ…åˆå¹¶ï¼‰åˆ°å½“å‰çš„ `state`;

```javascript
// ä¾‹å¦‚ï¼šstate ä¸­åŒ…å«å‡ ä¸ªç‹¬ç«‹çš„å˜é‡
constructor(props) {
    super(props)
    this.state = {
        posts: [],
        comments: []
    }
}

// ç„¶åå¯ä»¥åˆ†åˆ«è°ƒç”¨ `setState()` æ¥å•ç‹¬åœ°æ›´æ–°å®ƒä»¬
componentDidMount() {
    fetchPosts().then(response => {
        this.setState({
            posts: response.posts
        })
    })

    fetchComments().then(response => {
        // å®Œæ•´ä¿ç•™äº† `this.state.posts`ï¼Œä½†å®Œå…¨æ›¿æ¢äº† `this.state.comments`
        this.setState({
            comments: response.comments
        })
    })
}
```

### # æ•°æ®æ˜¯å‘ä¸‹æµåŠ¨çš„

> Neither parent nor child components can know if a certain(æŸäº›ã€æŸä¸ª) component is stateful or statelessï¼Œ and they shoudn't care whether it is defined as a function or a class.

ä¸ç®¡çˆ¶ç»„ä»¶è¿˜æ˜¯å­ç»„ä»¶éƒ½æ— æ³•çŸ¥é“æŸä¸ªç»„ä»¶æ˜¯æœ‰çŠ¶æ€çš„è¿˜æ˜¯æ— çŠ¶æ€çš„ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿå¹¶ä¸å…³å¿ƒå®ƒæ˜¯å‡½æ•°ç»„ä»¶è¿˜æ˜¯ class ç»„ä»¶ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç§° `state` ä¸ºå±€éƒ¨çš„æˆ–æ˜¯å°è£…çš„åŸå› ã€‚

```html
<!-- ç»„ä»¶å¯ä»¥é€‰æ‹©æŠŠå®ƒçš„ state ä½œä¸º props å‘ä¸‹ä¼ é€’åˆ°å®ƒçš„å­ç»„ä»¶ä¸­ -->
<h2>{ this.state.date.toLocaleTimeString() }</h2>

<!-- è¿™å¯¹äºè‡ªå®šä¹‰ç»„ä»¶åŒæ ·é€‚ç”¨ -->
<FomatterDate date={ this.state.date } />
```

ç»„ä»¶æœ¬èº«æ— æ³•çŸ¥é“å®ƒåŸæ¥æ˜¯æ¥è‡ªäºçˆ¶ç»„ä»¶çš„ state è¿˜æ˜¯çˆ¶ç»„ä»¶çš„ props ï¼Œè¿˜æ˜¯æ‰‹åŠ¨è¾“å…¥çš„ï¼š

```javascript
function FormattedDate(props) {
    return <h2>{ props.date.toLocaleTimeString() }</h2>
}
```

è¿™é€šå¸¸è¢«å«åš **è‡ªä¸Šè€Œä¸‹ï¼ˆtop-downï¼‰** æˆ–æ˜¯ **å•å‘ï¼ˆunidirectionalï¼‰** çš„æ•°æ®æµã€‚ä»»ä½•çš„ state æ€»æ˜¯æ‰€å±äºç‰¹å®šçš„ç»„ä»¶ï¼Œè€Œä¸”ä»è¯¥ state æ´¾ç”Ÿçš„ä»»ä½•æ•°æ®æˆ– UI åªèƒ½å½±å“æ ‘ä¸­â€ä½äºâ€œå®ƒä»¬çš„ç»„ä»¶ã€‚

> **å°½å¯èƒ½ä½¿ç”¨ `props` å½“åšæ•°æ®æºï¼Œ`state` ç”¨æ¥å­˜æ”¾çŠ¶æ€å€¼ï¼ˆç®€å•çš„æ•°æ®ï¼‰**

### # éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ‰‹åŠ¨è®¡æ•°çš„åº”ç”¨ï¼ˆä¸€ï¼‰

è¯´æ˜ï¼šè®¾è®¡ä¸€ä¸ª button çš„ç®€å•æ‰‹åŠ¨è®¡æ•°å™¨åº”ç”¨ï¼Œç‚¹å‡» "+" button è®¡æ•°å™¨å¢åŠ 1ï¼Œç‚¹å‡» "-" button è®¡æ•°å™¨å‡1ï¼›

```javascript
/**
* éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ‰‹åŠ¨è®¡æ•°çš„åº”ç”¨
* è¯´æ˜ï¼šè®¾è®¡ä¸€ä¸ª button çš„ç®€å•æ‰‹åŠ¨è®¡æ•°å™¨åº”ç”¨ï¼Œç‚¹å‡» "+" button è®¡æ•°å™¨å¢åŠ 1ï¼Œç‚¹å‡» "-" button è®¡æ•°å™¨å‡1ï¼›
*/
class Counter extends React.Component {
    constructor(props) {
        super(props)

        this.state = {
            initValue: 0
        }

        // ä¸ render å‡½æ•°çš„ onClick ç»‘å®šï¼Œå°† this ç»‘å®šä¸ºç»„ä»¶å¯¹è±¡
        this.onClickAdd = this.onClickAdd.bind(this)
        this.onClickReduce = this.onClickReduce.bind(this)
    }

    onClickAdd() {
        // å†…éƒ¨çš„ this é»˜è®¤ä¸æ˜¯ç»„ä»¶å¯¹è±¡ï¼Œè€Œæ˜¯ undefinedï¼›éœ€è¦ä¸»åŠ¨å¼ºåˆ¶ç»‘å®šç»„ä»¶å¯¹è±¡
        console.log(this)
        // è¯»å–çŠ¶æ€å¹¶è®¡ç®—
        this.state.initValue++
        // æ›´æ–°çŠ¶æ€ state
        this.setState({
            initValue: this.state.initValue
        })
    }

    onClickReduce() {
        console.log(this)
        this.state.initValue--
        this.setState({
            initValue: this.state.initValue
        })
    }

    render() {
        return (
            <div className="container">
                <button onClick={ this.onClickAdd }> + </button>
                <span>è®¡æ•°ï¼š{ this.state.initValue }</span>
                <button onClick={ this.onClickReduce }> - </button>
            </div>
        )
    }
}

const container = document.querySelector('#app')

ReactDOM.render(<Counter initValue="0" />, container)
```

### # éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ‰‹åŠ¨è®¡æ•°çš„åº”ç”¨ï¼ˆäºŒï¼‰

è¯´æ˜ï¼š

1. è®¾è®¡ä¸€ä¸ª button çš„ç®€å•æ‰‹åŠ¨è®¡æ•°å™¨åº”ç”¨ï¼Œç‚¹å‡» "+" button è®¡æ•°å™¨å¢åŠ 1ï¼Œç‚¹å‡» "-" button è®¡æ•°å™¨å‡1ï¼›

2. ä¸‰ä¸ªåŒæ ·çš„è®¡æ•°å™¨æ‰‹åŠ¨è®¡æ•°ï¼Œç„¶åç®—å‡ºæœ€ç»ˆçš„è®¡æ•°ç»“æœï¼Œå¹¶å±•ç¤º

    ![](./button-counter.png)

```javascript
// Parent Component
class TotalCount extends React.Component {
    constructor(props) {
        super(props)
        this.state = {
            totalValue: 0
        }
        
        this.updateCount = this.updateCount.bind(this)
    }

    updateCount(preValue, newValue) {
        this.setState({
            totalValue: this.state.totalValue + (newValue - preValue)
        })
    }

    render() {
        return (
            <div className="container">
                // å°† updateCount ä½œä¸º props ä¼ é€’ç»™ Child Component
                <Counter aValue="0" updateCount={ this.updateCount } />
                <br/><br/>
                <Counter aValue="0" updateCount={ this.updateCount } />
                <br/><br/>
                <Counter aValue="0" updateCount={ this.updateCount } />
                <hr/>
                <div> Total Count: { this.state.totalValue } </div>
            </div>
        )
    }
}

// Child Component
class Counter extends React.Component {
    constructor(props) {
        super(props)

        this.state = {
            initValue: this.props.aValue
        }

        // ä¸ render å‡½æ•°çš„ onClick ç»‘å®šï¼Œå°† this ç»‘å®šä¸ºç»„ä»¶å¯¹è±¡
        this.onClickAdd = this.onClickAdd.bind(this)
        this.onClickReduce = this.onClickReduce.bind(this)
    }

    onClickAdd() {
        this.handleUpdateValue(true)
    }

    onClickReduce() {
        this.handleUpdateValue(false)
    }

    handleUpdateValue(flag) {
        const preValue = this.state.initValue
        const newValue = flag ? ++this.state.initValue : --this.state.initValue
        this.setState({
            initValue: newValue
        })
        // é‡è¦ï¼šè¿™é‡Œå°†å‡½æ•°ä½œä¸ºä¸€ä¸ª props æ¥ä¼ é€’æ•°æ®
        this.props.updateCount(preValue, newValue)
    }

    render() {
        return (
            <>
                <button onClick={ this.onClickAdd }> + </button>
                <span>è®¡æ•°ï¼š{ this.state.initValue }</span>
                <button onClick={ this.onClickReduce }> - </button>
            </>
        )
    }
}

const container = document.querySelector('#app')

ReactDOM.render(<TotalCount />, container)
```

## # Handling Events

> Handling events with React elements is very similar to handling events on DOM elements. 

ä½†æ˜¯æœ‰ä¸€ç‚¹è¯­æ³•ä¸Šçš„ä¸åŒï¼š

- React äº‹ä»¶çš„å‘½åé‡‡ç”¨å°é©¼å³°å¼ï¼ˆcamelCaseï¼‰ï¼Œè€Œä¸æ˜¯çº¯å°å†™

- ä½¿ç”¨ JSX è¯­æ³•æ—¶ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²

```html
<!-- DOM å…ƒç´ äº‹ä»¶å¤„ç† -->
<button onclick="activateLasers()" >
    Activate Lasers
</button>

<!-- React å…ƒç´ äº‹ä»¶å¤„ç† -->
<button onClick={ activateLasers }>
    Activate Lasers
</button>
```

- React ä¸­ä¸èƒ½é€šè¿‡è¿”å› `false` çš„æ–¹å¼é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå¿…é¡»æ˜¾å¼çš„ä½¿ç”¨ `preventDefault`

```html
<!-- ä¼ ç»Ÿ html ä¸­ -->
<a herf="#" onclick="console.log('The link was clicked.') return false">
    Click Me
</a>
```

```javascript
// åœ¨ React ä¸­
const ActionLink = () => {
    const handleClick = e => {
        e.preventDefault()
        console.log('The link was clicked.')
    }

    return (
        <a herf="#" onClick={ handleClick }>
            Click Me
        </a>
    )
}
```

ä½¿ç”¨ React æ—¶ï¼Œä¸€èˆ¬ä¸éœ€è¦ä½¿ç”¨ `addEventListener` ä¸ºå·²åˆ›å»ºçš„ DOM å…ƒç´ æ·»åŠ ç›‘å¬å™¨ï¼›é€šå¸¸åªéœ€è¦åœ¨è¯¥å…ƒç´ åˆå§‹æ¸²æŸ“çš„æ—¶å€™æ·»åŠ ç›‘å¬å™¨å³å¯ã€‚

```javascript
class Toggle extends React.Component {
    constructor(props) {
        super(props)
        this.state = {
            isToggleOn: true
        }

        // This binding is necessary to make `this` work in the callback
        this.handleClick = this.handleClick.bind(this)
    }

    handleClick() {
        console.log(this)
        this.setState(state => ({ isToggleOn: !state.isToggleOn }))
    }

    render() {
        return (
            <button onClick={ this.handleClick }>
                { this.state.isToggleOn ? 'ON' : 'OFF' }
            </button>
        )
    }
}

ReactDOM.render(<Toggle />, document.querySelector('#app'))
```

**å¿…é¡»è°¨æ…å¯¹å¾… JSX å›è°ƒå‡½æ•°ä¸­çš„ `this`**ï¼Œåœ¨ JavaScript ä¸­ï¼Œclass çš„æ–¹æ³•é»˜è®¤ä¸ä¼šç»‘å®š `this`ã€‚

å¦‚æœè§‰å¾—ä½¿ç”¨ `bind()` æ–¹æ³•ç»‘å®š `this` å¾ˆéº»çƒ¦ï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³ï¼š

- å¦‚æœä½ æ­£åœ¨ä½¿ç”¨å®éªŒæ€§çš„ `public class fields` è¯­æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨ class fields æ­£ç¡®çš„ç»‘å®šå›è°ƒå‡½æ•°ï¼›

```javascript
class LoggingButton extends React.Component {
    // This syntax ensures `this` is bound within handleClick.
    // Warning: this is *experimental* syntax.
    handleClick = () => {
        console.log('this is:', this)
    }

    render() {
        return (
            <button onClick={ this.handleClick }>
                Click Me
            </button>
        )
    }
}
```

**é‡è¦**ï¼š`Create React App` é»˜è®¤å¯ç”¨æ­¤è¯­æ³•

- å¦‚æœæ²¡æœ‰ä½¿ç”¨ class fields è¯­æ³•ï¼Œä½ å¯ä»¥åœ¨å›è°ƒä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ˆarrow functionï¼‰;

```javascript
class LoggingButton extends React.Component {
    handleClick() {
        console.log('this is:', this)
    }

    render() {
        // This syntax ensures `this` is bound within handleClick.
        return (
            <button onClick={ (e) => this.handleClick(e) }>
                Click Me
            </button>
        )
    }
}
```

ä½†æ­¤è¯­æ³•çš„é—®é¢˜åœ¨äºæ¯æ¬¡æ¸²æŸ“ `LoggingButton` æ—¶éƒ½ä¼šåˆ›å»ºä¸åŒçš„å›è°ƒå‡½æ•°ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ï¼Œä½†å¦‚æœè¯¥å›è°ƒå‡½æ•°ä½œä¸º prop ä¼ å…¥å­ç»„ä»¶æ—¶ï¼Œè¿™äº›ç»„ä»¶å¯èƒ½ä¼šè¿›è¡Œé¢å¤–çš„é‡æ–°æ¸²æŸ“ã€‚

é€šå¸¸å»ºè®®åœ¨æ„é€ å™¨ä¸­ç»‘å®šæˆ–è€…ä½¿ç”¨ class fields è¯­æ³•æ¥é¿å…è¿™ç±»æ€§èƒ½é—®é¢˜ã€‚

### # Passing Arguments to Event Handlers

åœ¨å¾ªç¯ä¸­ï¼Œé€šå¸¸éœ€è¦ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’é¢å¤–çš„å‚æ•°ï¼›

```html
<button onClick={ (e) => this.deleteRow(id, e) }>Delete Row</button>
<button onClick={ this.deleteRow.bind(this, id) }></button>
```

ä¸Šè¿°ä¸¤ç§æ–¹å¼æ—¶ç­‰ä»·çš„ï¼Œåˆ†åˆ«é€šè¿‡ `ç®­å¤´å‡½æ•°` å’Œ `Function.prototype.bind` æ¥å®ç°ï¼›é€šè¿‡ç®­å¤´å‡½æ•°çš„æ–¹å¼ï¼Œäº‹ä»¶å¯¹è±¡å¿…é¡»æ˜¾å¼çš„è¿›è¡Œä¼ é€’ï¼Œè€Œé€šè¿‡ `bind` çš„æ–¹å¼ï¼Œäº‹ä»¶å¯¹è±¡ä»¥åŠæ›´è¿‡çš„å‚æ•°å°†ä¼šè¢«éšå¼çš„è¿›è¡Œä¼ é€’ã€‚